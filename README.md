# UIScom To Centrifugo

## 1C-транслятор уведомлений UIScom в канал сервера Centrifugo.

### Конфигурация 1C для Платформы 1С 8.3.20
- для переотправки внешний уведомлений от UIScom по звонкам
- внутрь локальной сети на сервер Centrifugo в канал оператора.
-------------------------------------------
По звонкам, которые поступают через HTTP-сервис от UIScom,
обрабатывается JSON-тело запроса и переотправляется HTTP-запросом на сервер Centrifugo.

### Константы:

* Сервер Centrifugo  - в локальной сети <ИмяКомп:8000>
* API KEY Centrifugo - "api-key" настраивается в файле config.json

### Поля, которые передаются в канал Centrifugo:
* Только для входящих звонков (**"direction"**:"in")
+ **"channel"**: 4 последние цифры от поля "Номер" (virtual_phone_number)
+ **"text"**: "ЗвонящийНомер" (called_phone_number) 
+ **"user"**: "ВызываемыйНомер" (calling_phone_number)

Все уведомления записываются в регистр сведений **"ИсторияЗвонков"**
